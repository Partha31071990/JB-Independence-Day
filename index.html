<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Independence Day Doctor Greeting</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Roboto:wght@400;500;700&display=swap');

body {
font-family: 'Roboto', sans-serif;
margin: 0;
padding: 20px;
background: linear-gradient(to bottom, #FF9933, white, #138808);
display: flex;
flex-direction: column;
align-items: center;
}

.input-section {
background: white;
padding: 15px;
border-radius: 10px;
box-shadow: 0 2px 10px rgba(0,0,0,0.2);
margin-bottom: 20px;
display: flex;
flex-direction: column;
gap: 10px;
width: 320px;
}

.input-section label { font-weight: bold; }
.input-section input, .input-section select { padding: 8px; border-radius: 5px; border: 1px solid #ccc; }

.card {
width: 12.7cm;
height: 17.8cm;
border-radius: 16px;
box-shadow: 0 4px 20px rgba(0,0,0,0.25);
padding: 5px 15px 15px 15px; /* Reduced top padding */
background: linear-gradient(to bottom, #FF9933, white, #138808);
display: flex;
flex-direction: column;
align-items: center;
text-align: center;
position: relative;
overflow: hidden;
}

h2 {
font-family: 'Playfair Display', serif;
font-size: 2.8em;
font-weight: 900;
color: #003366;
margin-top: 0; /* Removed top margin */
margin-bottom: 5px;
text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
}

.subheading-salute {
font-family: 'Playfair Display', serif;
font-size: 1.3em;
font-weight: 700;
color: #b22222;
margin-bottom: 15px;
text-shadow: 0.5px 0.5px 2px rgba(0,0,0,0.2);
}

.message {
font-family: 'Roboto', sans-serif;
font-size: 1.2em;
color: #222;
margin-bottom: 10px;
}

.thank-you {
font-family: 'Playfair Display', serif;
font-size: 2.2em;
font-weight: 900;
color: #003366;
text-transform: uppercase;
margin-bottom: 5px;
}

.doctor-photo {
width: 160px;
height: 160px;
border-radius: 50%;
object-fit: cover;
box-shadow: 0 2px 8px rgba(0,0,0,0.3);
margin-bottom: 10px;
}

.doctor-info {
font-family: 'Playfair Display', serif;
font-size: 1.4em;
font-weight: 700;
margin-bottom: 3px;
}

.speciality {
font-family: 'Roboto', sans-serif;
font-size: 1.2em;
font-style: italic;
color: #333;
margin-bottom: 15px;
}

.bottom-image {
width: 65%;
height: auto;
object-fit: contain;
margin-top: auto;
}

.download-btn {
margin-top: 15px;
padding: 10px 20px;
font-size: 1em;
font-weight: bold;
background-color: #003366;
color: white;
border: none;
border-radius: 8px;
cursor: pointer;
}
</style>
</head>
<body>
<div class="input-section">
<label for="doctorName">Doctor Name:</label>
<input type="text" id="doctorName" placeholder="Enter doctor name">
<label for="speciality">Speciality:</label>
<input type="text" id="speciality" placeholder="Enter speciality">
<label for="doctorPhoto">Upload Doctor Photo:</label>
<input type="file" id="doctorPhoto" accept="image/*">
<label for="bottomImage">Upload Bottom Image (QR or Thank You):</label>
<input type="file" id="bottomImage" accept="image/*">
<label for="language">Language:</label>
<select id="language">
<option value="en">English</option>
<option value="hi">Hindi</option>
<option value="gu">Gujarati</option>
</select>
</div>

<div class="card" id="greetingCard">
<h2 id="greeting">Happy Independence Day!</h2>
<div class="subheading-salute">We salute your unwavering dedication and relentless efforts.</div>
<img src="" alt="Doctor Photo" class="doctor-photo" id="displayDoctorPhoto">
<div class="doctor-info" id="displayDoctor"></div>
<div class="speciality" id="displaySpeciality"></div>
<div class="message">Celebrating the spirit of freedom & knowledge sharing through the JB Next app â€“ an initiative by JB Pharma to empower the medical fraternity.</div>
<div class="thank-you">Thank You</div>
<img src="" alt="Bottom Image" class="bottom-image" id="displayBottomImage">
</div>

<button class="download-btn" id="downloadJPEGBtn">Download as JPEG</button>
<button class="download-btn" id="downloadPDFBtn">Download as PDF</button>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
const doctorNameInput = document.getElementById('doctorName');
const specialityInput = document.getElementById('speciality');
const doctorPhotoInput = document.getElementById('doctorPhoto');
const bottomImageInput = document.getElementById('bottomImage');

doctorNameInput.addEventListener('input', () => {
document.getElementById('displayDoctor').textContent = doctorNameInput.value;
});

specialityInput.addEventListener('input', () => {
document.getElementById('displaySpeciality').textContent = specialityInput.value;
});

doctorPhotoInput.addEventListener('change', (event) => {
const file = event.target.files[0];
if(file){
const reader = new FileReader();
reader.onload = (e) => {
document.getElementById('displayDoctorPhoto').src = e.target.result;
};
reader.readAsDataURL(file);
}
});

bottomImageInput.addEventListener('change', (event) => {
const file = event.target.files[0];
if(file){
const reader = new FileReader();
reader.onload = (e) => {
document.getElementById('displayBottomImage').src = e.target.result;
};
reader.readAsDataURL(file);
}
});

async function generateImage() {
const card = document.getElementById('greetingCard');
return await html2canvas(card, { scale: 4, useCORS: true });
}

document.getElementById('downloadJPEGBtn').addEventListener('click', async () => {
const canvas = await generateImage();
const link = document.createElement('a');
link.href = canvas.toDataURL('image/jpeg', 1.0);
link.download = 'IndependenceDayGreeting.jpeg';
link.click();
});

document.getElementById('downloadPDFBtn').addEventListener('click', async () => {
const canvas = await generateImage();
const imgData = canvas.toDataURL('image/jpeg', 1.0);
const { jsPDF } = window.jspdf;
const pdf = new jsPDF({ unit: 'mm', format: [178, 127] });
pdf.addImage(imgData, 'JPEG', 0, 0, 127, 178);
pdf.save('IndependenceDayGreeting.pdf');
});
</script>
</body>
</html>